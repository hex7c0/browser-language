"use strict";function set(a,b,c){return b.cookie(a.cookie,c,{domain:a.domain,path:a.path,maxAge:a.age,httpOnly:a.httpOnly,secure:a.secure,signed:a.signed}),c}function end(a){return a?a():void 0}var all={ab:"Abkhazian",af:"Afrikaans",an:"Aragonese",ar:"Arabic",as:"Assamese",az:"Azerbaijani",be:"Belarusian",bg:"Bulgarian",bn:"Bengali",bo:"Tibetan",br:"Breton",bs:"Bosnian",ca:"Catalan",ce:"Chechen",co:"Corsican",cs:"Czech",cu:"Church",cy:"Welsh",da:"Danish",de:"German",el:"Greek",en:"English",eo:"Esperanto",es:"Spanish",et:"Estonian",eu:"Basque",fa:"Persian",fi:"Finnish",fj:"Fijian",fo:"Faroese",fr:"French",fy:"Frisian",ga:"Irish",gd:"Gaelic",gl:"Galician",gv:"Manx",he:"Hebrew",hi:"Hindi",hr:"Croatian",ht:"Haitian",hu:"Hungarian",hy:"Armenian",id:"Indonesian",is:"Icelandic",it:"Italian",ja:"Japanese",jv:"Javanese",ka:"Georgian",kg:"Kongo",ko:"Korean",ku:"Kurdish",kw:"Cornish",ky:"Kirghiz",la:"Latin",lb:"Luxembourgish",li:"Limburgan",ln:"Lingala",lt:"Lithuanian",lv:"Latvian",mg:"Malagasy",mk:"Macedonian",mn:"Mongolian",mo:"Moldavian",ms:"Malay",mt:"Maltese",my:"Burmese",nb:"Norwegian",ne:"Nepali",nl:"Dutch",nn:"Norwegian",no:"Norwegian",oc:"Occitan",pl:"Polish",pt:"Portuguese",rm:"Raeto-Romance",ro:"Romanian",ru:"Russian",sc:"Sardinian",se:"Sami",sk:"Slovak",sl:"Slovenian",so:"Somali",sq:"Albanian",sr:"Serbian",sv:"Swedish",sw:"Swahili",tk:"Turkmen",tr:"Turkish",ty:"Tahitian",uk:"Ukrainian",ur:"Urdu",uz:"Uzbek",vi:"Vietnamese",vo:"Volapuk",yi:"Yiddish",zh:"Chinese"};module.exports=function(a){var a=a||Object.create(null),b=__dirname+"/min/lib/dictionary.js",c=a.dictionary||require(b).LANG,d={cookie:String(a.cookie||"lang"),domain:String(a.domain||""),path:String(a.path||"/"),age:Number(a.age)||31536e6,httpOnly:Boolean(a.httpOnly),secure:Boolean(a.secure),signed:Boolean(a.signed)};void 0==c._default?c=require(b).LANG:all[c._default]||(console.error("language misconfigured"),c=require(b).LANG),process.env.lang=c._default;var e="cookies";return d.signed&&(e="signedCookies"),function(a,b,f){var g=a[e];if(void 0===g)g=Object.create(null);else if(c[g[d.cookie]])return end(f);var h,i=c._default;if(h=a.headers["accept-language"]){var j=h.match(/([a-z]{2,2})/gi);j=j.filter(function(a,b,c){return c.indexOf(a.toLowerCase())===b});for(var k=0,l=j.length;l>k;k++)if(h=c[j[k]]){i=h;break}}return g[d.cookie]=set(d,b,i),end(f)}};
